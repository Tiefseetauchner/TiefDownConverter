<!DOCTYPE html>
<html>

<head>
    <style>
        :root {
            --bg-gradient-start: #eef1f8;
            --bg-gradient-end: #d9e2f2;
            --surface: rgba(255, 255, 255, 0.8);
            --border-subtle: rgba(255, 255, 255, 0.6);
            --text-main: #111827;
            --text-muted: #6b7280;
            --accent: #2563eb;
            --accent-soft: rgba(37, 99, 235, 0.08);
            --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.18);
            --shadow-nav: 0 10px 30px rgba(15, 23, 42, 0.16);
            --radius-xl: 24px;
            --radius-pill: 999px;
        }

        /* Layout baseline */

        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            justify-content: flex-start;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
                "Segoe UI", sans-serif;
            color: var(--text-main);
            background: radial-gradient(circle at top, var(--bg-gradient-start), var(--bg-gradient-end));
        }

        /* Top nav */

        nav {
            position: sticky;
            top: 0;
            z-index: 20;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(18px);
            background: linear-gradient(135deg,
                    rgba(255, 255, 255, 0.3),
                    rgba(248, 250, 252, 0.2));
            border-bottom: 1px solid rgba(148, 163, 184, 0.18);
            box-shadow: var(--shadow-nav);
        }

        nav p {
            margin: 0;
            padding: 0.75rem 1.25rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        /* Link “chips” */

        nav a {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.45rem 0.95rem;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            border-radius: var(--radius-pill);
            border: 1px solid var(--border-subtle);
            background: rgba(255, 255, 255, 0.85);
            box-shadow: 0 8px 18px rgba(15, 23, 42, 0.12);
            color: var(--accent);
            letter-spacing: 0.01em;
            transition:
                transform 150ms ease,
                box-shadow 150ms ease,
                background 150ms ease,
                border-color 150ms ease;
        }

        nav a:hover {
            transform: translateY(-1px);
            box-shadow: 0 14px 26px rgba(15, 23, 42, 0.2);
            background: var(--accent-soft);
            border-color: rgba(37, 99, 235, 0.35);
        }

        nav a:active {
            transform: translateY(0);
            box-shadow: 0 6px 14px rgba(15, 23, 42, 0.18);
        }

        /* Main content card */

        .main-body {
            margin: 1.75rem auto 2.5rem;
            max-width: 800px;
            width: calc(100% - 2.5rem);
            padding: 1.75rem 1.75rem 2rem;
            border-radius: var(--radius-xl);
            background: var(--surface);
            border: 1px solid rgba(255, 255, 255, 0.9);
            box-shadow: var(--shadow-soft);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
        }

        /* Typography */

        .main-body h1 {
            margin-top: 0;
            margin-bottom: 0.9rem;
            font-size: 1.7rem;
            letter-spacing: -0.03em;
        }

        .main-body p {
            margin-top: 0.4rem;
            margin-bottom: 0.7rem;
            line-height: 1.6;
            color: var(--text-muted);
            font-size: 0.98rem;
        }

        .main-body strong {
            color: var(--text-main);
        }

        .main-body a {
            color: var(--accent);
            text-decoration: none;
            border-bottom: 1px solid rgba(37, 99, 235, 0.3);
            padding-bottom: 0.05rem;
            transition: border-color 140ms ease, color 140ms ease;
        }

        .main-body a:hover {
            color: #1d4ed8;
            border-color: rgba(37, 99, 235, 0.6);
        }

        /* Footer */

        footer {
            margin-top: auto;
            padding: 1.25rem 1.5rem 1.75rem;
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-muted);
            opacity: 0.9;
        }

        /* Small screens */

        @media (max-width: 640px) {
            nav p {
                padding: 0.6rem 0.85rem;
            }

            .main-body {
                margin: 1.25rem auto 2rem;
                width: calc(100% - 1.6rem);
                padding: 1.4rem 1.25rem 1.6rem;
                border-radius: 18px;
            }

            .main-body h1 {
                font-size: 1.45rem;
            }
        }
    </style>
</head>

<body>
    <nav>

<p><a
href="https://tiefseetauchner.github.io/TiefDownConverter/">Home</a> <a
href="https://tiefseetauchner.github.io/TiefDownConverter/cli">CLI
Docs</a> <a
href="https://tiefseetauchner.github.io/TiefDownConverter/lib">LIB
Docs</a> <a
href="https://tiefseetauchner.github.io/TiefDownConverter/lib/documentation10 - Multi-file Output Model.html">10
- Multi-file Output Model</a> <a
href="https://tiefseetauchner.github.io/TiefDownConverter/lib/documentation12 - Smart Clean.html">12
- Smart Clean</a></p>


</nav>
<div class="main-body">

<h1 id="metadata-generation-and-injection">Metadata Generation and
Injection</h1>
<p>Metadata being a first class citizen of TiefDown, it is imperative to
understand how metadata can be accessed. There are four ways to access
metadata generated by TiefDown:</p>
<ol type="1">
<li>using the TeX helper file generated during TeX conversion (see <a
href="#tex-templates">TeX templates</a> for details),</li>
<li>using the Typst helper file generated during Typst conversion (see
<a href="#typst-templates">Typst templates</a> for details),</li>
<li>by accessing metadata fields in the preprocessor or processor
arguments using template strings (<code>{{metafield}}</code>),</li>
<li>by reading the generated metadata files (see below),</li>
<li>or by using metadata inside pandoc lua filters (if generated, see
below).</li>
</ol>
<p>There are two types of metadata, as described below: project metadata
and navigation metadata. Only project metadata can be accessed inside
the TeX and Typst helpers as well as the templating strings. If
navigation metadata is generated, it can be used in lua filters as well
as read as a file.</p>
<h2 id="metadata-generation-settings">Metadata Generation Settings</h2>
<p>Metadata, importantly, is only injected into the pandoc process if it
is explicitly generated for a template. The metadata generation settings
can take four values:</p>
<ul>
<li><code>None</code>: no metadata is generated and written for this
template. This also means that pandoc does not get metadata
injected.</li>
<li><code>Full</code>: Both navigation and project metadata are
generated for this template and injected into pandoc.</li>
<li><code>NavOnly</code>: Only navigation metadata as described below is
generated and injected into pandoc.</li>
<li><code>MetadataOnly</code>: Only project metadata as described below
is generated and injected into pandoc.</li>
</ul>
<p>If metadata generation is enabled, there is always a yml file
generated. The yml file is then injected into the pandoc process as a
metadata file. There is also an option to enable JSON metadata file
generation, which can be enabled via the MetaGenerationFormat.</p>
<h2 id="project-metadata">Project Metadata</h2>
<p>Project metadata is simply the metadata collected through the shared-
and markdown project specific metadata. The metadata is merged and
written to the corresponding YML/JSON file.</p>
<h2 id="navigation-metadata">Navigation Metadata</h2>
<p>Navigation Metadata is split into two parts: global nav metadata,
being a list of nodes of all files in the input; and per-file metadata,
containing a reference to the own file as well as the next and previous
node.</p>
<p>The per file metadata is generated and injected into pandoc for each
file separately. That means, one could access the metadata for the file
using Lua filters.</p>
<p>Global metadata is generated once and injected into pandoc for every
file. This enables a user to easily create a navigation with all
nodes.</p>


</div>
<footer>
    <p>Tiefseetauchner © 2025</p>
</footer>
</body>

</html>