

<h1 id="lua-filters">Lua Filters</h1>
<p>Lua filters allow you to modify the document structure during
Pandoc’s conversion step. They are attached to templates through the
<code>filters</code> field. The value may be a single Lua file or a
directory containing multiple filter scripts.</p>
<p>Pandoc executes the filters in the order they are listed. Filters can
rename headers, insert custom blocks or otherwise transform the document
before it reaches the template engine.</p>
<p>Example filter to adjust chapter headings:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode lua"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> Header<span class="op">(</span><span class="va">el</span><span class="op">)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">el</span><span class="op">.</span><span class="va">level</span> <span class="op">==</span> <span class="dv">1</span> <span class="cf">then</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">pandoc</span><span class="op">.</span>RawBlock<span class="op">(</span><span class="st">&quot;latex&quot;</span><span class="op">,</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">chapter{&quot;</span> <span class="op">..</span> <span class="va">pandoc</span><span class="op">.</span><span class="va">utils</span><span class="op">.</span>stringify<span class="op">(</span><span class="va">el</span><span class="op">.</span><span class="va">content</span><span class="op">)</span> <span class="op">..</span> <span class="st">&quot;}&quot;</span><span class="op">)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<p>For more details on writing filters see the Pandoc documentation.</p>
<p>Note: Lua filters apply to the Pandoc preprocessing step(s). If a
template uses a custom preprocessor whose CLI is not Pandoc, those
filters have no effect on that preprocessor’s output.</p>


<p>Tiefseetauchner © 2025</p>
